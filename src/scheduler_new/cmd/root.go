package cmd

import (
	"os"
	"github.com/fatih/color"
	"github.com/spf13/cobra"
)

var rootCmd = &cobra.Command{
	Use:   "gozilla",
	Short: "A High-Performance Task Scheduler",
	Long: `Gozilla is a cutting-edge command line tool designed for efficient task scheduling and management
	it incorporates advance algorithm to dynamically priortize tasks, maintains concurrency & parallelism at
	the same time.`,
}


func cli(){

	red := color.New(color.FgHiRed)
	gray := color.New(color.FgHiWhite)
	rootCmd.Run = func(cmd *cobra.Command, args []string) {
	red.Println(
			`
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::=*-:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::-%%%-:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::*#@-::::::::::::::::::::::::::::=++#%%%#*++-:::::::::::::::::::::::::::
:::::::::::::::::::-%#+=-:::::::::::::::::::-+=##**##***%##*####::::::::::::::::::::::::::
::::::::::::::::::::%*%%#-:::::::::::=#*+=:*+#%##%#***#**#*####%=:::::::::::::::::::::::::
:::::::::::::::::::=#*%#*::::::-#-:::-+%###%#%%%#+*#**#**#%*#*#%::::::::::::::::::::::::::
:::::::::::::::::::***%-::::::::%#+::=#######%##***#**%+==**+++*::::::::::::::::::::::::::
:::::::::::::::::::%**%#-:::::::*###-*####%%#**#*#**#*****#*+++=::::::::::::::::::::::::::
::::::::::::::::::*#*#%%#+::::-**%###%#%%#****#***#*===+****::::::::::::::::::::::::::::::
:::::::::::::::::-%**#%%*:::::::+%%####%******%*###+=====+*#-:::::::::::::::::::::::::::::
:::::::::::::::::****%+:::::::=+*####%#***##*%#****+=++++*%**:::::::::::::::::::::::::::::
::::::::::::::::=#***%*#::+#**+%##%%@%#*****#%####**====+*%*#=:-==::::::::::::::::::::::::
::::::::::::::::#****%#%%=:-*######%*%%###***#***##**+=+*#%***%####:::::::::::::::::::::::
:::::::::::::::=#****%##+:=-+*%###%++*%##*#*****##%#*****##**#***##*+:::::::::::::::::::::
:::::::::::::::******%*=**##=*##%#+*****##%%#*%###*+==+*#%#**#**#%#%::::::::::::::::::::::
:::::::::::::::*+*****#%####%###*++#****++*%###=+++===++#--==+%##%+-::::::::::::::::::::::
:::::::::::::::*+******##%%%##*+**%#*+++++++%*=====+***##=:::::==:::::::::::::::::::::::::
:::::::::::::::=#+***************%#**+++++++*%=+====++##*##+::::::::::::::::::::::::::::::
::::::::::::::::#++**************%***+++++++*@==+*+**##****##=::::::::::::::::::::::::::::
:::::::::::::::::#+++************%****++++++*@++==++##*******##-::::::::::::::::::::::::::
::::::::::::::::::*#*+***********%#***++++++*@++++*##**********%+:::::::::::::::::::::::::
:::::::::::::::::::-+*+++++++++*%##*****++++*@++**%#******###***%:::::::::::::::::::::::::
:::::::::::::::::::::-+*#*++++#%*****###****#%+=:::=####****##*%+:::::::::::::::::::::::::
:::::::::::::::::::::::::=++*#%*********#**%+:::::::%**##*****##::::::::::::::::::::::::::
:::::::::::::::::::::::::::::%***********##-::::::::%********#%:::::::::::::::::::::::::::
::::::::::::::::::::::::::::*#**********#*:::::::::-%****##**%-:::::::::::::::::::::::::::
:::::::::::::::::::::::::::-%*###%#%%%%#-::::::::::-%*###%#%%#=:::::::::::::::::::::::::::
:::::::::::::::::::::::::::##*##*##*##*#:::::::::::-%**%*#%*%##=::::::::::::::::::::::::::
:::::::::::::::::::::::::::+==++=++==+=+::::::::::::+++++++++++=::::::::::::::::::::::::::
`)
gray.Println(`						________             .__.__  .__          
						/  _____/  ___________|__|  | |  | _____   
						/   \  ___ /  _ \___   /  |  | |  | \__  \  
						\    \_\  (  <_> )    /|  |  |_|  |__/ __ \_
						\______  /\____/_____ \__|____/____(____  /
							\/            \/                 \/ 	`)
	}
	initialiseCmd()
}

func initialiseCmd(){

	var bgCmd = &cobra.Command{
		Use: "start",
		Short: "Connecting background services",
		Run: start,
	}
	
	var dbCmd = &cobra.Command{
		Use: "add",
		Short: "Running Database Services",
		Run: add,
	}
	
	var jobCmd = &cobra.Command{
		Use: "run",
		Short: "Initiating Jobs Services",
		Run: run,
	}
	
	var cpuCmd = &cobra.Command{
		Use: "pause",
		Short: "Initiating Computing Services",
		Run: pause,
	}
	
	var threadCmd = &cobra.Command{
		Use: "run",
		Short: "Running Computing Services",
		Run: resume,
	}
	
	var shutCmd = &cobra.Command{
		Use: "stop",
		Short: "Shut-down all services",
		Run: stop,
	}
	
	var statusCmd = &cobra.Command{
		Use: "status",
		Short: "Shut-down all services",
		Run: status,
	}
	
	var listCmd = &cobra.Command{
		Use: "stop",
		Short: "Shut-down all services",
		Run: list,
	}
	rootCmd.AddCommand(bgCmd,listCmd,statusCmd,shutCmd,threadCmd, cpuCmd, jobCmd, dbCmd)
}

func Execute(){
	if err := rootCmd.Execute(); err != nil {
		os.Exit(1)
	}
}

// remove-job: To remove an existing job from the scheduler.
// configure: To set or modify configuration settings for the system.

