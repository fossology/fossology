!function(e,o){"use strict";function t(o,t){var n=e.extend(!0,{duration:200,effect:{open:e.fn.fadeIn,close:e.fn.fadeOut},overlay:{opacity:.6,zIndex:9e3},closeClass:y+"-close"},t);return n.overlay.fillColor=n.overlay.fillColor||n.overlay.color||"#888",n.zIndex=n.zIndex||n.overlay.zIndex+1,r||(r=e(window),f=e('<div class="'+y+'-overlay" />').css({position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"none"}).appendTo(c=e("body")).click(l),e(document).focusin(function(o){h&&!h.has(o.target).length&&(s?s.focus():e(document.activeElement).blur())}).keydown(function(e){return h&&27===e.keyCode?l(e):void 0})),o.each(function(){var o=e(this),t={position:"fixed",display:"none",zIndex:n.zIndex};n.offset?("function"!=typeof n.offset&&(t.left=n.offset.left,t.top=n.offset.top),t.marginLeft=t.marginTop=""):(t.left=t.top="50%",t.marginLeft="-"+o.outerWidth()/2+"px",t.marginTop="-"+o.outerHeight()/2+"px"),n.closeClass&&o.find("."+n.closeClass).off("click",l).click(l),"function"==typeof n.open&&o.on(y+"open",n.open),"function"==typeof n.close&&o.on(y+"close",n.close),o.css(t).data(m,n).appendTo(c)})}function n(o,n){var l,x,C,I,w,z;return null===h&&o.length&&(l=o.eq(0),(n||!(x=l.data(m)))&&(x=t(l,n).data(m)),C=c.get(0).style,u=C.overflow,I=c.prop("clientWidth"),w=c.prop("clientHeight"),c.css("overflow","hidden"),I-=c.prop("clientWidth"),w-=c.prop("clientHeight"),d=C.marginRight,p=C.marginBottom,0>I&&c.css("marginRight","+="+-I),0>w&&c.css("marginBottom","+="+-w),a=e(document.activeElement).blur(),s=null,g=r.scrollLeft(),v=r.scrollTop(),r.scroll(i),"function"==typeof x.offset&&(z=x.offset.call(l),l.css({left:z.left,top:z.top})),x.effect.open.call(l,x.duration||1,function(){l.find("a,input,select,textarea,button,object,area,img,map").each(function(){var o=e(this);return o.focus().get(0)===document.activeElement?(s=o,!1):void 0}),h=l.trigger(y+"open")}),f.css({backgroundColor:x.overlay.fillColor,zIndex:x.overlay.zIndex}).fadeTo(x.duration,x.overlay.opacity),h=0),o}function l(t){var n,l,s=t instanceof e.Event;return h&&(n=s?h:function(){var e=t.index(h);return e>-1?t.eq(e):o}(),n&&(l=n.data(m),l.effect.close.call(n,l.duration||1,function(){c.css({overflow:u,marginRight:d,marginBottom:p}),a&&a.length&&a.focus(),r.off("scroll",i).scrollLeft(g).scrollTop(v),n.trigger(y+"close"),h=null}),f.fadeOut(l.duration),h=0)),s?(t.preventDefault(),!1):t}function i(e){return r.scrollLeft(g).scrollTop(v),e.preventDefault(),!1}var r,c,f,a,s,u,d,p,g,v,h=null,m="plainModal",y=m.toLowerCase();e.fn[m]=function(e,o){return"open"===e?n(this,o):"close"===e?l(this):t(this,e)}}(jQuery);