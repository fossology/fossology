<!-- SPDX-FileCopyrightText: Â© Fossology contributors

     SPDX-License-Identifier: GPL-2.0-only
-->

Nomos Developer Notes
=====================

What This Is and How to Work It
-------------------------------

This directory in the FOSSology source tree (`agents/nomos`) contains the source code for the `nomos` license analysis agent. The code originated as a standalone license-scanning tool but is now fully integrated with the FOSSology framework.

The build process for `nomos` has been migrated to the standard FOSSology CMake-based system.

Build Instructions (IMPORTANT)
------------------------------

Do **NOT** attempt to build Nomos from within this directory (`src/nomos/agent`). There is no Makefile here.

To build Nomos, you must build the entire Fossology project from the root directory:

    mkdir build
    cd build
    cmake ..
    make

Dependencies
------------

### PostgreSQL
Building Nomos requires PostgreSQL development headers (e.g. `libpq-dev` or `postgresql-devel`).

### Runtime Configuration
Nomos is **not designed to be run standalone**. It expects a Fossology runtime environment and configuration file (`fossology.conf`) at predefined locations (e.g. `/usr/local/etc/fossology/`).

Running `./nomos` directly without this environment will likely fail or misbehave (e.g., segfaults or configuration errors), even if all shared libraries are resolved.

#defines Used
-------------

[Incomplete List]

BRIEF_LIST
SHOW_LOCATION       Extra code to pinpoint license location. Should always be true.
PROC_TRACE
PROC_TRACE_SWITCH   Gives command option for tracing on/off
DEBUG
GLOBAL_DEBUG        Debug access to global variable structure
MEMORY_TRACING      Use Debug Malloc wrapper
STOPWATCH           Performance Measurement
TIMING              Performance Measurement (code has to be added to places where you want to measure).


Changes made from my nomos_experimental version
-----------------------------------------------

Remove all code #ifdef'd by USE_MMAP 
